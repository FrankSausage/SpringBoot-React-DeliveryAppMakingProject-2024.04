{"version":3,"file":"route_overview.js","sourceRoot":"","sources":["../../src/route_overview/route_overview.ts"],"names":[],"mappings":"AAAA;;;;GAIG;;;AAEH,OAAO,qEAAqE,CAAC;AAC7E,OAAO,2DAA2D,CAAC;AACnE,OAAO,uDAAuD,CAAC;AAE/D,OAAO,EAAC,IAAI,EAAC,MAAM,KAAK,CAAC;AACzB,OAAO,EAAC,aAAa,EAAE,QAAQ,EAAC,MAAM,mBAAmB,CAAC;AAC1D,OAAO,EAAC,IAAI,EAAC,MAAM,wBAAwB,CAAC;AAE5C,OAAO,EAAC,aAAa,EAAC,MAAM,2BAA2B,CAAC;AACxD,OAAO,EAAC,mCAAmC,EAAC,MAAM,kCAAkC,CAAC;AAMrF,MAAM,mBAAmB,GAAG,SAAS,CAAC;AACtC,MAAM,mBAAmB,GAAG,SAAS,CAAC;AAEtC;;;;;;;;;;;GAWG;AAEI,IAAM,aAAa,qBAAnB,MAAM,aAAc,SAAQ,aAAa;IAwE9C;QACE,KAAK,EAAE,CAAC;QAhBV;;WAEG;QAEH,eAAU,GAAsC,SAAS,CAAC;QAE1D;;WAEG;QAC4D,UAAK,GAAG,KAAK,CAAC;QAQ3E,IAAI,CAAC,MAAM,GAAG,EAAE,GAAG,eAAa,CAAC,cAAc,EAAE,CAAC;IACpD,CAAC;IAEkB,MAAM;QACvB,mBAAmB;QACnB,OAAO,IAAI,CAAA;;+BAEgB,IAAI,CAAC,iBAAiB;gCACrB,IAAI,CAAC,kBAAkB;gCACvB,IAAI,CAAC,kBAAkB;0BAC7B,IAAI,CAAC,YAAY;2BAChB,IAAI,CAAC,aAAa;2BAClB,IAAI,CAAC,aAAa;mBAC1B,IAAI,CAAC,KAAK;wBACL,IAAI,CAAC,UAAU;;;4BAGX,mBAAmB;;sBAEzB,IAAI,CAAC,MAAM;;;4BAGL,mBAAmB;;sBAEzB,IAAI,CAAC,MAAM,GAAG,CAAC;;;;qBAIhB,IAAI,CAAC,aAAa,IAAI,EAAE;sBACvB,IAAI,CAAC,MAAM;;;;;;;;qBAQZ,IAAI,CAAC,kBAAkB,IAAI,EAAE;sBAC5B,IAAI,CAAC,MAAM,GAAG,CAAC;;;;;;;;UAQ3B,IAAI,CAAC,CAAC,IAAI,CAAC,KAAK,EAAE,GAAG,EAAE,CAAC,IAAI,CAAA;;;uBAGf,IAAI,CAAC,kBAAkB,IAAI,EAAE;wBAC5B,IAAI,CAAC,MAAM,GAAG,CAAC;+BACR,CAAC;;KAE3B,CAAC;QACF,kBAAkB;IACpB,CAAC;;AA7Dc,4BAAc,GAAG,CAAC,AAAJ,CAAK;AA1DlC;IALC,QAAQ,CAAC;QACR,SAAS,EAAE,mCAAmC;QAC9C,SAAS,EAAE,qBAAqB;QAChC,OAAO,EAAE,IAAI;KACd,CAAC;;wDACuC;AAOzC;IADC,QAAQ,CAAC,EAAC,IAAI,EAAE,MAAM,EAAE,SAAS,EAAE,sBAAsB,EAAE,OAAO,EAAE,IAAI,EAAC,CAAC;;yDAC/C;AAQ5B;IADC,QAAQ,CAAC,EAAC,IAAI,EAAE,MAAM,EAAE,SAAS,EAAE,qBAAqB,EAAE,OAAO,EAAE,IAAI,EAAC,CAAC;;yDAC9C;AAW5B;IALC,QAAQ,CAAC;QACR,SAAS,EAAE,mCAAmC;QAC9C,SAAS,EAAE,gBAAgB;QAC3B,OAAO,EAAE,IAAI;KACd,CAAC;;mDACkC;AAOpC;IADC,QAAQ,CAAC,EAAC,IAAI,EAAE,MAAM,EAAE,SAAS,EAAE,iBAAiB,EAAE,OAAO,EAAE,IAAI,EAAC,CAAC;;oDAC/C;AAOvB;IADC,QAAQ,CAAC,EAAC,IAAI,EAAE,MAAM,EAAE,SAAS,EAAE,gBAAgB,EAAE,OAAO,EAAE,IAAI,EAAC,CAAC;;oDAC9C;AAKO;IAA7B,QAAQ,CAAC,EAAC,SAAS,EAAE,KAAK,EAAC,CAAC;;4CAAyB;AAMtD;IADC,QAAQ,CAAC,EAAC,IAAI,EAAE,MAAM,EAAE,SAAS,EAAE,aAAa,EAAE,OAAO,EAAE,IAAI,EAAC,CAAC;;iDACR;AAKK;IAA9D,QAAQ,CAAC,EAAC,IAAI,EAAE,OAAO,EAAE,SAAS,EAAE,QAAQ,EAAE,OAAO,EAAE,IAAI,EAAC,CAAC;;4CAAe;AAlElE,aAAa;IADzB,aAAa,CAAC,qBAAqB,CAAC;;GACxB,aAAa,CAkIzB","sourcesContent":["/**\n * @license\n * Copyright 2023 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport '../route_building_blocks/route_data_provider/route_data_provider.js';\nimport '../route_building_blocks/route_polyline/route_polyline.js';\nimport '../route_building_blocks/route_marker/route_marker.js';\n\nimport {html} from 'lit';\nimport {customElement, property} from 'lit/decorators.js';\nimport {when} from 'lit/directives/when.js';\n\nimport {BaseComponent} from '../base/base_component.js';\nimport {LAT_LNG_LITERAL_ATTRIBUTE_CONVERTER} from '../utils/attribute_converters.js';\n\ntype DirectionsRoute = google.maps.DirectionsRoute;\ntype LatLng = google.maps.LatLng;\ntype LatLngLiteral = google.maps.LatLngLiteral;\n\nconst INNER_POLYLINE_BLUE = '#1faefb';\nconst OUTER_POLYLINE_BLUE = '#2565cd';\n\n/**\n * The route overview component renders a route on a `<gmp-map>` component,\n * including origin and destination markers, an outlined polyline, and viewport\n * management.\n *\n * This component can fetch route data from the Directions API, or use a\n * `DirectionsRoute` object provided from elsewhere in code. The component will\n * locally cache route data to avoid redundant API requests.\n *\n * @event {RequestErrorEvent} gmpx-requesterror - Indicates an error condition\n * in an underlying Google Maps JavaScript API call. (React: onRequestError)\n */\n@customElement('gmpx-route-overview')\nexport class RouteOverview extends BaseComponent {\n  /**\n   * The destination of the directions request as a lat/lng. When setting the\n   * destination, only one of lat/lng, Place ID, or address should be specified.\n   */\n  @property({\n    converter: LAT_LNG_LITERAL_ATTRIBUTE_CONVERTER,\n    attribute: 'destination-lat-lng',\n    reflect: true\n  })\n  destinationLatLng?: LatLng|LatLngLiteral;\n\n  /**\n   * The destination of the directions request as a Place ID. When setting the\n   * destination, only one of lat/lng, Place ID, or address should be specified.\n   */\n  @property({type: String, attribute: 'destination-place-id', reflect: true})\n  destinationPlaceId?: string;\n\n  /**\n   * The destination of the directions request as an address query. When setting\n   * the destination, only one of lat/lng, Place ID, or address should be\n   * specified.\n   */\n  @property({type: String, attribute: 'destination-address', reflect: true})\n  destinationAddress?: string;\n\n  /**\n   * The origin of the directions request as a lat/lng. When setting the origin,\n   * only one of lat/lng, Place ID, or address should be specified.\n   */\n  @property({\n    converter: LAT_LNG_LITERAL_ATTRIBUTE_CONVERTER,\n    attribute: 'origin-lat-lng',\n    reflect: true\n  })\n  originLatLng?: LatLng|LatLngLiteral;\n\n  /**\n   * The origin of the directions request as a Place ID. When setting the\n   * origin, only one of lat/lng, Place ID, or address should be specified.\n   */\n  @property({type: String, attribute: 'origin-place-id', reflect: true})\n  originPlaceId?: string;\n\n  /**\n   * The origin of the directions request as an address query. When setting the\n   * origin, only one of lat/lng, Place ID, or address should be specified.\n   */\n  @property({type: String, attribute: 'origin-address', reflect: true})\n  originAddress?: string;\n\n  /**\n   * Route data to render directly, instead of making an API call.\n   */\n  @property({attribute: false}) route?: DirectionsRoute;\n\n  /**\n   * The travel mode of the directions request.\n   */\n  @property({type: String, attribute: 'travel-mode', reflect: true})\n  travelMode: Lowercase<google.maps.TravelMode> = 'driving';\n\n  /**\n   * Hides the red pin displayed at the destination.\n   */\n  @property({type: Boolean, attribute: 'no-pin', reflect: true}) noPin = false;\n\n  private static numConstructed = 0;\n\n  private readonly zIndex: number;\n\n  constructor() {\n    super();\n    this.zIndex = 10 * RouteOverview.numConstructed++;\n  }\n\n  protected override render() {\n    // clang-format off\n    return html`\n      <gmpx-route-data-provider\n          .destinationLatLng=${this.destinationLatLng}\n          .destinationPlaceId=${this.destinationPlaceId}\n          .destinationAddress=${this.destinationAddress}\n          .originLatLng=${this.originLatLng}\n          .originPlaceId=${this.originPlaceId}\n          .originAddress=${this.originAddress}\n          .route=${this.route}\n          .travelMode=${this.travelMode}>\n        <gmpx-route-polyline\n            fit-in-viewport\n            stroke-color=\"${OUTER_POLYLINE_BLUE}\"\n            stroke-weight=\"9\"\n            .zIndex=${this.zIndex}>\n        </gmpx-route-polyline>\n        <gmpx-route-polyline\n            stroke-color=\"${INNER_POLYLINE_BLUE}\"\n            stroke-weight=\"5\"\n            .zIndex=${this.zIndex + 1}>\n        </gmpx-route-polyline>\n        <gmpx-route-marker\n            waypoint=\"origin\"\n            .title=${this.originAddress ?? ''}\n            .zIndex=${this.zIndex}>\n          <svg width=\"20\" height=\"20\" style=\"position: relative; top: 13px;\">\n            <circle cx=\"10\" cy=\"10\" r=\"6\" stroke=\"black\" stroke-width=\"3\" \n                fill=\"white\"/>\n          </svg>\n        </gmpx-route-marker>\n        <gmpx-route-marker\n            waypoint=\"destination\"\n            .title=${this.destinationAddress ?? ''}\n            .zIndex=${this.zIndex + 1}>\n          <svg width=\"20\" height=\"20\" style=\"position: relative; top: 13px;\">\n            <circle cx=\"10\" cy=\"10\" r=\"7\" stroke=\"black\" stroke-width=\"3\" \n                fill=\"white\"/>\n            <circle cx=\"10\" cy=\"10\" r=\"1.8\" stroke=\"black\" stroke-width=\"3\" \n                fill=\"black\"/>\n          </svg>\n        </gmpx-route-marker>\n        ${when(!this.noPin, () => html`\n          <gmpx-route-marker\n              waypoint=\"destination\"\n              .title=${this.destinationAddress ?? ''}\n              .zIndex=${this.zIndex + 2}>\n          </gmpx-route-marker>`)}\n      </gmpx-route-data-provider>\n    `;\n    // clang-format on\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'gmpx-route-overview': RouteOverview;\n  }\n}\n"]}