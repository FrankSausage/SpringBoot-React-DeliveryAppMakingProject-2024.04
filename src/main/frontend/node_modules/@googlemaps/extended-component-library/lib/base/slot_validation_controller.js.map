{"version":3,"file":"slot_validation_controller.js","sourceRoot":"","sources":["../../src/base/slot_validation_controller.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AAMH,0DAA0D;AAC1D,SAAS,cAAc,CAAC,QAAgB;IACtC,OAAO,QAAQ,CAAC,CAAC,CAAC,IAAI,QAAQ,GAAG,CAAC,CAAC,CAAC,SAAS,CAAC;AAChD,CAAC;AAED;;;;;GAKG;AACH,MAAM,OAAO,wBAAwB;IACnC,YACqB,IAAuC,EACvC,MAAyB,EACzB,kBAA4B;QAF5B,SAAI,GAAJ,IAAI,CAAmC;QACvC,WAAM,GAAN,MAAM,CAAmB;QACzB,uBAAkB,GAAlB,kBAAkB,CAAU;QAC/C,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;IAC3B,CAAC;IAED,aAAa;QACX,KAAK,MAAM,KAAK,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;YACtC,IAAI,CAAC,sBAAsB,CAAC,KAAK,CAAC,CAAC;SACpC;IACH,CAAC;IAEO,sBAAsB,CAAC,KAAc;QAC3C,MAAM,QAAQ,GAAG,KAAK,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;QAClD,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE;YAC/C,IAAI,CAAC,MAAM,CAAC,IAAI,CACZ,yCAAyC,cAAc,CAAC,QAAQ,CAAC,GAAG;gBAChE,sDACI,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EACjE,KAAK,CAAC,CAAC;SACZ;IACH,CAAC;CACF","sourcesContent":["/**\n * @license\n * Copyright 2023 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {LitElement, ReactiveController, ReactiveControllerHost} from 'lit';\n\nimport {LoggingController} from './logging_controller.js';\n\n/** Formats a slot name for display in logged messages. */\nfunction formatSlotName(slotName: string): string {\n  return slotName ? `\"${slotName}\"` : 'default';\n}\n\n/**\n * Controller that checks the host element for incorrectly slotted children.\n *\n * @param supportedSlotNames Names of supported slots under the host element.\n *     The default slot is denoted by an empty string.\n */\nexport class SlotValidationController implements ReactiveController {\n  constructor(\n      private readonly host: ReactiveControllerHost&LitElement,\n      private readonly logger: LoggingController,\n      private readonly supportedSlotNames: string[]) {\n    host.addController(this);\n  }\n\n  hostConnected() {\n    for (const child of this.host.children) {\n      this.checkChildSlotValidity(child);\n    }\n  }\n\n  private checkChildSlotValidity(child: Element) {\n    const slotName = child.getAttribute('slot') ?? '';\n    if (!this.supportedSlotNames.includes(slotName)) {\n      this.logger.warn(\n          `Detected child element in unsupported ${formatSlotName(slotName)} ` +\n              `slot. This component supports the following slots: ${\n                  this.supportedSlotNames.map(formatSlotName).join(', ')}.`,\n          child);\n    }\n  }\n}\n"]}