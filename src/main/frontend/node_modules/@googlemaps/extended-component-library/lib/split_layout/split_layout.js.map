{"version":3,"file":"split_layout.js","sourceRoot":"","sources":["../../src/split_layout/split_layout.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright 2023 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {css, CSSResultGroup, html} from 'lit';\nimport {customElement, property, state} from 'lit/decorators.js';\nimport {cache} from 'lit/directives/cache.js';\nimport {classMap} from 'lit/directives/class-map.js';\n\nimport {BaseComponent} from '../base/base_component.js';\nimport {SlotValidationController} from '../base/slot_validation_controller.js';\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'gmpx-split-layout': SplitLayout;\n  }\n}\n\n/**\n * The split layout component allows you to display custom HTML information in a\n * responsive panel view alongside main content. In a narrow container, such as\n * a mobile viewport, the panel will be shown below the main content.\n *\n * ![](./doc_src/split-layout.png)\n *\n * **To use this component, you'll need to specify `slot=\"main\"` or\n * `slot=\"fixed\"` on its children.** Read more on using slots\n * [here](https://developer.mozilla.org/en-US/docs/Web/API/Web_components/Using_templates_and_slots#adding_flexibility_with_slots).\n *\n * @slot main - Main content.\n * @slot fixed - Content to be slotted inside the panel with fixed width/height.\n * This panel is displayed on the side of main content when the component has\n * sufficient width, or below main content otherwise.\n *\n * @cssproperty [--gmpx-fixed-panel-width-row-layout=320px] - Controls the fixed\n * panel width when the component is displayed in row direction. Main content\n * width will adjust automatically to fill remaining space.\n * @cssproperty [--gmpx-fixed-panel-height-column-layout=50%] - Controls the\n * fixed panel height when the component is displayed in column direction. Main\n * content height will adjust automatically to fill remaining space.\n */\n@customElement('gmpx-split-layout')\nexport class SplitLayout extends BaseComponent {\n  static override styles: CSSResultGroup = css`\n    :host(:not([hidden])) {\n      display: block;\n      height: 100%;\n    }\n\n    .layout {\n      display: flex;\n      height: 100%;\n      width: 100%;\n    }\n\n    .layout.column {\n      flex-direction: column;\n    }\n\n    .layout.column .fixed-container {\n      height: var(--gmpx-fixed-panel-height-column-layout, 50%);\n    }\n\n    .layout.row {\n      flex-direction: row;\n    }\n\n    .layout.row .fixed-container {\n      width: var(--gmpx-fixed-panel-width-row-layout, 320px);\n    }\n\n    .fixed-container {\n      overflow: auto;\n      z-index: 1;\n    }\n\n    .main-container {\n      flex: 1;\n      overflow: auto;\n    }\n  `;\n\n  /**\n   * By default, the fixed panel is rendered below the main content when layout\n   * is in column direction. If this attribute is specified, then the fixed\n   * panel will appear above the main content instead.\n   */\n  @property({attribute: 'column-reverse', reflect: true, type: Boolean})\n  columnReverse = false;\n\n  /**\n   * When the componentâ€™s width in pixels is less than this amount, it displays\n   * in a mobile-friendly column layout instead.\n   */\n  @property({attribute: 'row-layout-min-width', reflect: true, type: Number})\n  rowLayoutMinWidth = 640;\n\n  /**\n   * By default, the fixed panel is rendered before the main content when layout\n   * is in row direction (left for LTR and vice versa). If this attribute is\n   * specified, then the fixed panel will appear after the main content instead\n   * (right for LTR and vice versa).\n   */\n  @property({attribute: 'row-reverse', reflect: true, type: Boolean})\n  rowReverse = false;\n\n  @state() private hasRowLayout = true;\n\n  protected slotValidator =\n      new SlotValidationController(this, this.logger, ['main', 'fixed']);\n\n  private resizeObserver?: ResizeObserver;\n\n  override connectedCallback() {\n    super.connectedCallback();\n    this.resizeObserver = new ResizeObserver(() => void this.updateLayout());\n    this.resizeObserver.observe(this);\n  }\n\n  override disconnectedCallback() {\n    super.disconnectedCallback();\n    this.resizeObserver?.disconnect();\n  }\n\n  protected override willUpdate() {\n    this.updateLayout();\n  }\n\n  protected override render() {\n    const fixedContainer = html`\n      <div class=\"fixed-container\">\n        <slot name=\"fixed\"></slot>\n      </div>\n    `;\n    const mainContainer = html`\n      <div class=\"main-container\">\n        <slot name=\"main\"></slot>\n      </div>\n    `;\n\n    return html`\n    <div class=\"layout ${classMap({\n      'column': !this.hasRowLayout,\n      'row': this.hasRowLayout,\n    })}\">\n      ${\n        cache(\n            (this.hasRowLayout && this.rowReverse) ||\n                    (!this.hasRowLayout && !this.columnReverse) ?\n                html`${mainContainer}${fixedContainer}` :\n                html`${fixedContainer}${mainContainer}`)}\n    </div>\n    `;\n  }\n\n  private updateLayout() {\n    this.hasRowLayout = this.clientWidth >= this.rowLayoutMinWidth;\n  }\n}\n"]}